{"remainingRequest":"/Users/cheng/xiedaima/morney/node_modules/babel-loader/lib/index.js!/Users/cheng/xiedaima/morney/node_modules/ts-loader/index.js??ref--13-2!/Users/cheng/xiedaima/morney/src/store/index.ts","dependencies":[{"path":"/Users/cheng/xiedaima/morney/src/store/index.ts","mtime":1646808581647},{"path":"/Users/cheng/xiedaima/morney/babel.config.js","mtime":1636385591694},{"path":"/Users/cheng/xiedaima/morney/node_modules/cache-loader/dist/cjs.js","mtime":1636385564689},{"path":"/Users/cheng/xiedaima/morney/node_modules/babel-loader/lib/index.js","mtime":1636385564688},{"path":"/Users/cheng/xiedaima/morney/node_modules/ts-loader/index.js","mtime":1636385568108}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWV4IGZyb20gJ3Z1ZXgnOwppbXBvcnQgY2xvbmUgZnJvbSAiQC9saWIvY2xvbmUiOwppbXBvcnQgY3JlYXRlSWQgZnJvbSAiQC9saWIvY3JlYXRlSWQiOwpWdWUudXNlKFZ1ZXgpOwp2YXIgc3RvcmUgPSBuZXcgVnVleC5TdG9yZSh7CiAgc3RhdGU6IHsKICAgIHRhZ0xpc3Q6IFtdLAogICAgcmVjb3JkTGlzdDogW10KICB9LAogIG11dGF0aW9uczogewogICAgZmV0Y2hSZWNvcmRzOiBmdW5jdGlvbiBmZXRjaFJlY29yZHMoc3RhdGUpIHsKICAgICAgc3RhdGUucmVjb3JkTGlzdCA9IEpTT04ucGFyc2Uod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJyZWNvcmRMaXN0IikgfHwgJ1tdJyk7CiAgICB9LAogICAgY3JlYXRlUmVjb3JkOiBmdW5jdGlvbiBjcmVhdGVSZWNvcmQoc3RhdGUsIHJlY29yZCkgewogICAgICB2YXIgcmVjb3JkMiA9IGNsb25lKHJlY29yZCk7CiAgICAgIHJlY29yZDIuY3JlYXRlZEF0ID0gbmV3IERhdGUoKTsKICAgICAgc3RhdGUucmVjb3JkTGlzdC5wdXNoKHJlY29yZDIpOwogICAgICBzdG9yZS5jb21taXQoJ3NhdmVSZWNvcmRzJyk7CiAgICB9LAogICAgc2F2ZVJlY29yZHM6IGZ1bmN0aW9uIHNhdmVSZWNvcmRzKHN0YXRlKSB7CiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgicmVjb3JkTGlzdCIsIEpTT04uc3RyaW5naWZ5KHN0YXRlLnJlY29yZExpc3QpKTsKICAgICAgY29uc29sZS5sb2coInN0YXRlIiwgc3RhdGUpOwogICAgfSwKICAgIGZldGNoVGFnczogZnVuY3Rpb24gZmV0Y2hUYWdzKHN0YXRlKSB7CiAgICAgIHN0YXRlLnRhZ0xpc3QgPSBKU09OLnBhcnNlKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidGFnTGlzdCIpIHx8ICdbXScpOwogICAgfSwKICAgIGNyZWF0ZVRhZzogZnVuY3Rpb24gY3JlYXRlVGFnKHN0YXRlLCBuYW1lKSB7CiAgICAgIHZhciBuYW1lcyA9IHN0YXRlLnRhZ0xpc3QubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZTsKICAgICAgfSk7CgogICAgICBpZiAobmFtZXMuaW5kZXhPZihuYW1lKSA+PSAwKSB7CiAgICAgICAgd2luZG93LmFsZXJ0KCLmoIfnrb7lkI3ph43lpI3kuoYiKTsKICAgICAgICByZXR1cm4gJ2R1cGxpY2F0ZWQnOwogICAgICB9CgogICAgICB2YXIgaWQgPSBjcmVhdGVJZCgpLnRvU3RyaW5nKCk7CiAgICAgIHN0YXRlLnRhZ0xpc3QucHVzaCh7CiAgICAgICAgaWQ6IGlkLAogICAgICAgIG5hbWU6IG5hbWUKICAgICAgfSk7CiAgICAgIHN0b3JlLmNvbW1pdCgnc2F2ZVRhZ3MnKTsKICAgICAgd2luZG93LmFsZXJ0KCLmoIfnrb7mt7vliqDmiJDlip8iKTsKICAgICAgcmV0dXJuICdzdWNjZXNzJzsKICAgIH0sCiAgICBzYXZlVGFnczogZnVuY3Rpb24gc2F2ZVRhZ3Moc3RhdGUpIHsKICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0YWdMaXN0IiwgSlNPTi5zdHJpbmdpZnkoc3RhdGUudGFnTGlzdCkpOwogICAgfQogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IHN0b3JlOw=="},{"version":3,"sources":["/Users/cheng/xiedaima/morney/src/store/index.ts"],"names":[],"mappings":";;;;;AAAA,OAAO,GAAP,MAAgB,KAAhB;AACA,OAAO,IAAP,MAAiB,MAAjB;AACA,OAAO,KAAP,MAAkB,aAAlB;AACA,OAAO,QAAP,MAAqB,gBAArB;AACA,GAAG,CAAC,GAAJ,CAAQ,IAAR;AAEA,IAAM,KAAK,GAAG,IAAI,IAAI,CAAC,KAAT,CAAe;AAC3B,EAAA,KAAK,EAAE;AACL,IAAA,OAAO,EAAE,EADJ;AAEL,IAAA,UAAU,EAAE;AAFP,GADoB;AAK3B,EAAA,SAAS,EAAE;AACT,IAAA,YADS,wBACI,KADJ,EACS;AAChB,MAAA,KAAK,CAAC,UAAN,GAAmB,IAAI,CAAC,KAAL,CAAW,MAAM,CAAC,YAAP,CAAoB,OAApB,CAA4B,YAA5B,KAA6C,IAAxD,CAAnB;AACD,KAHQ;AAIT,IAAA,YAJS,wBAII,KAJJ,EAIW,MAJX,EAIiB;AACxB,UAAM,OAAO,GAAe,KAAK,CAAC,MAAD,CAAjC;AACA,MAAA,OAAO,CAAC,SAAR,GAAoB,IAAI,IAAJ,EAApB;AACA,MAAA,KAAK,CAAC,UAAN,CAAiB,IAAjB,CAAsB,OAAtB;AACA,MAAA,KAAK,CAAC,MAAN,CAAa,aAAb;AACD,KATQ;AAUT,IAAA,WAVS,uBAUG,KAVH,EAUQ;AACf,MAAA,MAAM,CAAC,YAAP,CAAoB,OAApB,CAA4B,YAA5B,EAA0C,IAAI,CAAC,SAAL,CAAe,KAAK,CAAC,UAArB,CAA1C;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,OAAZ,EAAqB,KAArB;AACD,KAbQ;AAeT,IAAA,SAfS,qBAeC,KAfD,EAeM;AACb,MAAA,KAAK,CAAC,OAAN,GAAgB,IAAI,CAAC,KAAL,CAAW,MAAM,CAAC,YAAP,CAAoB,OAApB,CAA4B,SAA5B,KAA0C,IAArD,CAAhB;AACD,KAjBQ;AAkBT,IAAA,SAlBS,qBAkBC,KAlBD,EAkBQ,IAlBR,EAkBoB;AAC3B,UAAM,KAAK,GAAG,KAAK,CAAC,OAAN,CAAc,GAAd,CAAkB,UAAA,IAAI;AAAA,eAAI,IAAI,CAAC,IAAT;AAAA,OAAtB,CAAd;;AACA,UAAI,KAAK,CAAC,OAAN,CAAc,IAAd,KAAuB,CAA3B,EAA8B;AAC5B,QAAA,MAAM,CAAC,KAAP,CAAa,QAAb;AACA,eAAO,YAAP;AACD;;AACD,UAAM,EAAE,GAAG,QAAQ,GAAG,QAAX,EAAX;AACA,MAAA,KAAK,CAAC,OAAN,CAAc,IAAd,CAAmB;AAAE,QAAA,EAAE,EAAE,EAAN;AAAU,QAAA,IAAI,EAAE;AAAhB,OAAnB;AACA,MAAA,KAAK,CAAC,MAAN,CAAa,UAAb;AACA,MAAA,MAAM,CAAC,KAAP,CAAa,QAAb;AACA,aAAO,SAAP;AACD,KA7BQ;AA8BT,IAAA,QA9BS,oBA8BA,KA9BA,EA8BK;AACZ,MAAA,MAAM,CAAC,YAAP,CAAoB,OAApB,CAA4B,SAA5B,EAAuC,IAAI,CAAC,SAAL,CAAe,KAAK,CAAC,OAArB,CAAvC;AACD;AAhCQ;AALgB,CAAf,CAAd;AA0CA,eAAe,KAAf","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport clone from \"@/lib/clone\";\nimport createId from \"@/lib/createId\";\nVue.use(Vuex)\n\nconst store = new Vuex.Store({\n  state: {\n    tagList: [] as Tag[],\n    recordList: [] as RecordItem[]\n  },\n  mutations: {\n    fetchRecords(state) {\n      state.recordList = JSON.parse(window.localStorage.getItem(\"recordList\") || '[]') as RecordItem[]\n    },\n    createRecord(state, record) {\n      const record2: RecordItem = clone(record);\n      record2.createdAt = new Date();\n      state.recordList.push(record2);\n      store.commit('saveRecords');\n    },\n    saveRecords(state) {\n      window.localStorage.setItem(\"recordList\", JSON.stringify(state.recordList))\n      console.log(\"state\", state);\n    },\n\n    fetchTags(state) {\n      state.tagList = JSON.parse(window.localStorage.getItem(\"tagList\") || '[]')\n    },\n    createTag(state, name: string) {\n      const names = state.tagList.map(item => item.name);\n      if (names.indexOf(name) >= 0) {\n        window.alert(\"标签名重复了\");\n        return 'duplicated'\n      }\n      const id = createId().toString();\n      state.tagList.push({ id: id, name: name })\n      store.commit('saveTags');\n      window.alert(\"标签添加成功\");\n      return 'success';\n    },\n    saveTags(state){\n      window.localStorage.setItem(\"tagList\", JSON.stringify(state.tagList))\n    },\n  }\n\n})\n\nexport default store;\n"],"sourceRoot":""}]}