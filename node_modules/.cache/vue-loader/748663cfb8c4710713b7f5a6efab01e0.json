{"remainingRequest":"/Users/cheng/xiedaima/morney/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cheng/xiedaima/morney/src/views/EditLabel.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/cheng/xiedaima/morney/src/views/EditLabel.vue","mtime":1646878833322},{"path":"/Users/cheng/xiedaima/morney/node_modules/cache-loader/dist/cjs.js","mtime":1636385564689},{"path":"/Users/cheng/xiedaima/morney/node_modules/babel-loader/lib/index.js","mtime":1636385564688},{"path":"/Users/cheng/xiedaima/morney/node_modules/ts-loader/index.js","mtime":1636385568108},{"path":"/Users/cheng/xiedaima/morney/node_modules/cache-loader/dist/cjs.js","mtime":1636385564689},{"path":"/Users/cheng/xiedaima/morney/node_modules/vue-loader/lib/index.js","mtime":1636385574867}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICJ2dWUtcHJvcGVydHktZGVjb3JhdG9yIjsKaW1wb3J0IEZvcm1JdGVtIGZyb20gIkAvY29tcG9uZW50cy9Nb25leS9Gb3JtSXRlbS52dWUiOwppbXBvcnQgQnV0dG9uIGZyb20gIkAvY29tcG9uZW50cy9CdXR0b24udnVlIjsKCkBDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsgRm9ybUl0ZW0sIEJ1dHRvbiB9Cn0pCmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVkaXRMYWJlbCBleHRlbmRzIFZ1ZSB7CiAgZ2V0IGN1cnJlbnRUYWcoKXsKICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5jdXJyZW50VGFnOwogIH0KCiAgY3JlYXRlZCgpIHsKICAgIGxldCBpZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZDsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnZmV0Y2hUYWdzJykKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0Q3VycmVudFRhZyIsIGlkKTsKICAgIGlmICghdGhpcy5jdXJyZW50VGFnKSB7CiAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCIvNDA0Iik7CiAgICB9CiAgfQoKICB1cGRhdGUobmFtZTogc3RyaW5nKSB7CiAgICBpZiAodGhpcy5jdXJyZW50VGFnKSB7CiAgICAgIGxldCBwYXlsb2FkPXtpZDp0aGlzLmN1cnJlbnRUYWcuaWQsbmFtZTpuYW1lfQogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3VwZGF0ZVRhZycscGF5bG9hZCk7CiAgICB9CiAgfQoKICByZW1vdmUoKSB7CiAgICBpZiAodGhpcy5jdXJyZW50VGFnKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgncmVtb3ZlVGFnJyx0aGlzLmN1cnJlbnRUYWcuaWQpCiAgICB9CiAgfQoKICBnb0JhY2soKSB7CiAgICB0aGlzLiRyb3V0ZXIuYmFjaygpOwogIH0KfQo="},{"version":3,"sources":["EditLabel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"EditLabel.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <Layout>\n    <div class=\"navBar\">\n      <Icon class=\"leftIcon\" name=\"left\" @click.native=\"goBack\" />\n      <span class=\"title\">编辑标签</span>\n      <span class=\"rightIcon\"></span>\n    </div>\n    <div class=\"form-wrapper\">\n      <FormItem\n        :value=\"currentTag.name\"\n        @update:value=\"update\"\n        field-name=\"标签名\"\n        placeholder=\"请输入标签名\"\n      />\n    </div>\n    <div class=\"button-wrapper\">\n      <Button @click.native=\"remove\">删除标签</Button>\n    </div>\n  </Layout>\n</template>\n<script lang=\"ts\">\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport FormItem from \"@/components/Money/FormItem.vue\";\nimport Button from \"@/components/Button.vue\";\n\n@Component({\n  components: { FormItem, Button }\n})\nexport default class EditLabel extends Vue {\n  get currentTag(){\n    return this.$store.state.currentTag;\n  }\n\n  created() {\n    let id = this.$route.params.id;\n    this.$store.commit('fetchTags')\n    this.$store.commit(\"setCurrentTag\", id);\n    if (!this.currentTag) {\n      this.$router.replace(\"/404\");\n    }\n  }\n\n  update(name: string) {\n    if (this.currentTag) {\n      let payload={id:this.currentTag.id,name:name}\n      this.$store.commit('updateTag',payload);\n    }\n  }\n\n  remove() {\n    if (this.currentTag) {\n      this.$store.commit('removeTag',this.currentTag.id)\n    }\n  }\n\n  goBack() {\n    this.$router.back();\n  }\n}\n</script>\n<style lang=\"scss\">\n.navBar {\n  text-align: center;\n  font-size: 16px;\n  padding: 12px 16px;\n  background: #fff;\n  display: flex;\n  justify-content: space-between;\n  align-content: center;\n  > .title {\n  }\n  > .leftIcon {\n    width: 24px;\n    height: 24px;\n  }\n  > .rightIcon {\n    width: 24px;\n    height: 24px;\n  }\n}\n.form-wrapper {\n  background: #fff;\n  margin-top: 8px;\n}\n.button-wrapper {\n  text-align: center;\n  padding: 16px;\n  margin-top: 44-16px;\n}\n</style>"]}]}