{"remainingRequest":"/Users/cheng/xiedaima/morney/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cheng/xiedaima/morney/src/views/EditLabel.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/cheng/xiedaima/morney/src/views/EditLabel.vue","mtime":1646210926691},{"path":"/Users/cheng/xiedaima/morney/node_modules/cache-loader/dist/cjs.js","mtime":1636385564689},{"path":"/Users/cheng/xiedaima/morney/node_modules/babel-loader/lib/index.js","mtime":1636385564688},{"path":"/Users/cheng/xiedaima/morney/node_modules/ts-loader/index.js","mtime":1636385568108},{"path":"/Users/cheng/xiedaima/morney/node_modules/cache-loader/dist/cjs.js","mtime":1636385564689},{"path":"/Users/cheng/xiedaima/morney/node_modules/vue-loader/lib/index.js","mtime":1636385574867}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgVnVlIGZyb20gInZ1ZSI7CmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOwppbXBvcnQgRm9ybUl0ZW0gZnJvbSAiQC9jb21wb25lbnRzL01vbmV5L0Zvcm1JdGVtLnZ1ZSI7CmltcG9ydCBCdXR0b24gZnJvbSAiQC9jb21wb25lbnRzL0J1dHRvbi52dWUiOwpjb25zdCB7IHRhZ0xpc3RNb2RlbCB9ID0gcmVxdWlyZSgiQC9tb2RlbHMvdGFnTGlzdE1vZGVsLnRzIik7CkBDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsgRm9ybUl0ZW0sIEJ1dHRvbiB9LAp9KQpleHBvcnQgZGVmYXVsdCBjbGFzcyBFZGl0TGFiZWwgZXh0ZW5kcyBWdWUgewogIHRhZz86e2lkOnN0cmluZyxuYW1lOnN0cmluZ30gPSB1bmRlZmluZWQ7CiAgY3JlYXRlZCgpIHsKICAgIGxldCBpZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZDsKICAgIHRhZ0xpc3RNb2RlbC5mZXRjaCgpOwogICAgY29uc3QgdGFncyA9IHRhZ0xpc3RNb2RlbC5kYXRhOwogICAgY29uc3QgdGFnID0gdGFncy5maWx0ZXIodD0+IHQuaWQgPT09IGlkKVswXTsKICAgIGlmKHRhZyl7CiAgICAgIHRoaXMudGFnPXRhZzsKICAgIH1lbHNlewogICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSgnLzQwNCcpOwogICAgfQogIH0KICB1cGRhdGUobmFtZTpzdHJpbmcpewogICAgaWYodGhpcy50YWcpewogICAgICAgdGFnTGlzdE1vZGVsLnVwZGF0ZSh0aGlzLnRhZy5pZCwgbmFtZSk7CiAgICB9CiAgfQogIHJlbW92ZSgpIHsKICAgIGlmKHRoaXMudGFnKXsKICAgICAgaWYodGFnTGlzdE1vZGVsLnJlbW92ZSh0aGlzLnRhZy5pZCkpewogICAgICAgIHRoaXMuJHJvdXRlci5iYWNrKCkKICAgICAgfWVsc2V7CiAgICAgICAgd2luZG93LmFsZXJ0KCfliKDpmaTlpLHotKUnKQogICAgICB9CiAgICB9CiAgfQogIGdvQmFjaygpewogICAgdGhpcy4kcm91dGVyLmJhY2soKQogIH0KfQo="},{"version":3,"sources":["EditLabel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditLabel.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <Layout>\n    <div class=\"navBar\">\n      <Icon class=\"leftIcon\" name=\"left\" @click.native=\"goBack\"/>\n      <span class=\"title\">编辑标签</span>\n      <span class=\"rightIcon\"></span>\n    </div>\n    <div class=\"form-wrapper\">\n      <FormItem :value=\"tag.name\" @update:value=\"update\" field-name=\"标签名\" placeholder=\"请输入标签名\" />\n    </div>\n    <div class=\"button-wrapper\">\n      <Button @click.native=\"remove\">删除标签</Button>\n    </div>\n    \n  </Layout>\n</template>\n<script lang=\"ts\">\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport FormItem from \"@/components/Money/FormItem.vue\";\nimport Button from \"@/components/Button.vue\";\nconst { tagListModel } = require(\"@/models/tagListModel.ts\");\n@Component({\n  components: { FormItem, Button },\n})\nexport default class EditLabel extends Vue {\n  tag?:{id:string,name:string} = undefined;\n  created() {\n    let id = this.$route.params.id;\n    tagListModel.fetch();\n    const tags = tagListModel.data;\n    const tag = tags.filter(t=> t.id === id)[0];\n    if(tag){\n      this.tag=tag;\n    }else{\n      this.$router.replace('/404');\n    }\n  }\n  update(name:string){\n    if(this.tag){\n       tagListModel.update(this.tag.id, name);\n    }\n  }\n  remove() {\n    if(this.tag){\n      if(tagListModel.remove(this.tag.id)){\n        this.$router.back()\n      }else{\n        window.alert('删除失败')\n      }\n    }\n  }\n  goBack(){\n    this.$router.back()\n  }\n}\n</script>\n<style lang=\"scss\">\n.navBar {\n  text-align: center;\n  font-size: 16px;\n  padding: 12px 16px;\n  background: #fff;\n  display: flex;\n  justify-content: space-between;\n  align-content: center;\n  > .title {\n  }\n  > .leftIcon {\n    width: 24px;\n    height: 24px;\n  }\n  > .rightIcon {\n    width: 24px;\n    height: 24px;\n  }\n}\n.form-wrapper{\n  background:#fff;\n  margin-top:8px;\n}\n.button-wrapper{\n  text-align: center;\n  padding:16px;\n  margin-top: 44-16px;\n}\n</style>"]}]}